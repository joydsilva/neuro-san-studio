{
   "llm_config": {
        "model_name": "gpt-4o",
    },
   "instructions_prefix": """
You are part of a nw_excess_and_surplus_insurance team of assistants.

INSTRUCTIONS FOR MCP TOOL USAGE:
1. When a user requests an insurance quote, you MUST capture the following required data from the user's request:
   - business_type: The type of business seeking coverage
   - coverage_type: The type of insurance coverage needed
   - coverage_limit: The requested coverage limit amount
   - location: The business location/address

2. Once you have captured ALL FOUR required fields, immediately invoke the coded tool
3. Pass the captured data to the mcp_quote_generator tool with the exact parameter names: business_type, coverage_type, coverage_limit, location
4. Include optional parameters if available: square_footage, deductible
5. After receiving the tool response, present the generated quote details in a clear, structured format
6. Include all key quote components: coverage limits, premiums, deductibles, terms, and conditions
7. If the tool returns an error or incomplete data, inform the user and suggest next steps

CRITICAL: You MUST invoke the mcp_quote_generator tool for ANY quote request. Do NOT attempt to generate quotes manually.

SCOPE AND BEHAVIOR:
- Only answer inquiries directly related to excess and surplus insurance coverage
- Focus exclusively on what you can accomplish with the available MCP tools
- Provide actionable results by calling the appropriate tools and displaying their outputs

INSTRUCTIONS FOR INSURANCE INFO PROVIDER TOOL:
1. When a user asks about available coverage types, business types, programs, or specialty lines, use the insurance_info_provider tool
2. Provide a clear query describing what information the user is seeking
3. The tool uses semantic search to find relevant information from the knowledge base
4. Present the retrieved information in a clear, structured format
5. If the user needs a quote after getting information, collect the required fields and invoke mcp_quote_generator
""",
  
"tools": [
        # Front-man agent - handles all client communication
        {
            "name": "insurance_quote_assistant",
            "function": {
                "description": "Generate insurance quotes for excess and surplus lines coverage and provide information about available programs and coverages"
            },
            "instructions": ${instructions_prefix},
            "tools": ["mcp_quote_generator", "insurance_info_provider"]
        },
        
        # Coded tool that connects to MCP server
        {
            "name": "mcp_quote_generator",
            "function": {
                "description": "Tool to generate insurance quotes for excess and surplus lines coverage, including policy terms, premiums, and coverage details",
                "parameters": {
                    "type": "object",
                    "required": ["business_type", "coverage_type", "coverage_limit", "location"],
                    "properties": {
                        "business_type": {
                            "type": "string",
                            "description": "Type of business seeking coverage (e.g., Restaurant, Manufacturing, Retail, Construction)"
                        },
                        "coverage_type": {
                            "type": "string", 
                            "description": "Type of insurance coverage needed (e.g., General Liability, Property Insurance, Professional Liability)"
                        },
                        "coverage_limit": {
                            "type": "string",
                            "description": "Requested coverage limit amount (e.g., $1,000,000, $2,000,000)"
                        },
                        "location": {
                            "type": "string",
                            "description": "Business location/address"
                        },
                        "square_footage": {
                            "type": "string",
                            "description": "Square footage of the property (optional, defaults to 10000)"
                        },
                        "deductible": {
                            "type": "string", 
                            "description": "Preferred deductible amount (optional, defaults to $1000)"
                        }
                    }
                }
            },
            "instructions": "Generate a comprehensive insurance quote by invoking the MCP quote server with the provided parameters.",
            "class": "mcp_quote_generator.McpQuoteGenerator"
        },

        # Coded tool which uses RAG to provide available information about
        # excess and surplus insurance lines, programs, and coverages
        {
            "name": "insurance_info_provider",
            "function": {
                "description": "Retrieve information about excess and surplus insurance lines, available programs, coverage types, and business types using semantic search with RAG",
                "parameters": {
                    "type": "object",
                    "required": [],
                    "properties": {
                        "query": {
                            "type": "string",
                            "description": "Search query to find specific information about programs, coverages, specialty lines, or business types (e.g., 'What coverage types are available for restaurants?', 'commercial property programs')"
                        },
                        "section": {
                            "type": "string",
                            "description": "Optional section to focus on (e.g., 'programs', 'coverages', 'specialty_lines', 'business_types')"
                        }
                    }
                }
            },
            "instructions": "Use this tool to retrieve detailed information about excess and surplus insurance from the knowledge base. The tool uses semantic search to find relevant information about available programs, coverage types, business types, and specialty lines.",
            "class": "text_file_info_provider.TextFileInfoProvider"
        }
]
}
